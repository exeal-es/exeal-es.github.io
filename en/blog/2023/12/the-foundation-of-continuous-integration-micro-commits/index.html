<!doctype html><html lang=en><head><meta charset=utf-8><title>The Foundation of Continuous Integration: Micro-Commits | Exeal</title><meta name=description content="Micro-commits are a prerequisite for practicing trunk-based development, continuous integration, and continuous delivery, thus increasing the frequency of delivering value."><meta name=author content="Exeal"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:title" content="The Foundation of Continuous Integration: Micro-Commits"><meta property="og:description" content="Micro-commits are a prerequisite for practicing trunk-based development, continuous integration, and continuous delivery, thus increasing the frequency of delivering value."><meta property="og:type" content="article"><meta property="og:url" content="https://www.exeal.com/en/blog/2023/12/the-foundation-of-continuous-integration-micro-commits/"><meta property="og:image" content="https://www.exeal.com/assets/img/blog/posts/videogame.webp"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-12-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-15T00:00:00+00:00"><meta itemprop=name content="The Foundation of Continuous Integration: Micro-Commits"><meta itemprop=description content="Micro-commits are a prerequisite for practicing trunk-based development, continuous integration, and continuous delivery, thus increasing the frequency of delivering value."><meta itemprop=datePublished content="2023-12-15T00:00:00+00:00"><meta itemprop=dateModified content="2023-12-15T00:00:00+00:00"><meta itemprop=wordCount content="895"><meta itemprop=image content="https://www.exeal.com/assets/img/blog/posts/videogame.webp"><meta itemprop=keywords content="ci-cd,best-practices,tdd,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.exeal.com/assets/img/blog/posts/videogame.webp"><meta name=twitter:title content="The Foundation of Continuous Integration: Micro-Commits"><meta name=twitter:description content="Micro-commits are a prerequisite for practicing trunk-based development, continuous integration, and continuous delivery, thus increasing the frequency of delivering value."><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css integrity=sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm crossorigin=anonymous><link rel=stylesheet href=https://www.exeal.com/scss/main.css><link rel=icon type=image/png href=/assets/img/favicon.png><link rel=apple-touch-icon href=/assets/img/apple-touch-icon.png><script async src="https://www.googletagmanager.com/gtag/js?id=UA-172984297-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-172984297-1")</script><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/8231847.js></script>
<link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css><meta name=facebook-domain-verification content="xwbugjbpmp2jwy1y6mzdhe6ga267uz"><script>!function(t,o,i,a,e,n,s){if(t.fbq)return;e=t.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},t._fbq||(t._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],n=o.createElement(i),n.async=!0,n.src=a,s=o.getElementsByTagName(i)[0],s.parentNode.insertBefore(n,s)}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","417415780749470"),fbq("track","PageView")</script><noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=417415780749470&ev=PageView&noscript=1"></noscript><link rel=stylesheet href=https://www.exeal.com/scss/blog.css><link rel=stylesheet href=https://www.exeal.com/scss/hero.css></head><body><nav class="navbar navbar-light navbar-expand-lg navbar-shrink"><div class=container><div class="d-flex flex-row"><a href=/ class=navbar-brand><img src=/assets/img/logo-exeal-header-black.svg alt=Exeal></a>
<a href=/blog/ class=navbar-brand><img src=/assets/img/blog/logo-blog.svg alt=Blog></a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarTogglerDemo01 aria-controls=navbarTogglerDemo01 aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarTogglerDemo01><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Services</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/servicios/technical-coaching/>Technical Coaching</a>
<a class=dropdown-item href=/servicios/aceleradora-de-talento/>Talent Acceleration Program</a>
<a class=dropdown-item href=/cursos/>Ad Hoc Training</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownResources role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Resources</a><div class=dropdown-menu aria-labelledby=navbarDropdownResources><a class=dropdown-item href=https://academia.exeal.com/collections>Free Online Courses</a>
<a class=dropdown-item href=/blog/>Blog</a>
<a class=dropdown-item href=/lista-de-correo/>Newsletter</a>
<a class=dropdown-item href=/katas/>Katas</a></div></li><li class=nav-item><a class="nav-link nav-button" href=/lista-de-correo/>Suscr√≠bete</a></li></ul></div></div></nav><header class="hero hero-bg-img" style=background-image:url(/assets/img/blog/posts/videogame.webp)><div class="hero-bg-img-mask bg-mask"><div class="container h-100"><div class="row h-100 align-items-center"><div class="col-12 text-center"><ul class="tags tags-light"><li><a href=https://www.exeal.com/en/tags/ci-cd/>#ci-cd</a></li><li><a href=https://www.exeal.com/en/tags/best-practices/>#best-practices</a></li><li><a href=https://www.exeal.com/en/tags/tdd/>#tdd</a></li></ul><h1><span class=underline>The Foundation of Continuous Integration: Micro-Commits</span></h1><h2>Pedro Pardal</h2><p class=date>2023/12/15</p><p><a data-scroll=sect-body href=#><img class=arrow-down src=/assets/img/arrow-down-secondary.svg></a></p></div></div></div></div></header><section id=sect-body><div class=container><article><p>You might be surprised (it surprised me when I began <a href=https://www.exeal.com/servicios/technical-coaching/>helping other teams as a coach</a>), but most developers commit code to version control only about 2 or 3 times a week.</p><p>This limits the frequency with which they can deliver working code to production.</p><p>When our goal is to increase the frequency of delivering value and, therefore, practice <em>trunk-based development</em>, <em>continuous integration</em>, and <em>continuous delivery</em>, we seek the opposite: <strong>to accelerate the frequency of our commits, as much as possible</strong>.</p><p>This practice, known as micro-commits, is, along with automated testing and build automation, <strong>one of the fundamental engineering practices if we want to achieve continuous delivery</strong>.</p><h2 id=save-the-game>Save the Game</h2><p>We need to <strong>view commits as if we were saving the game</strong> in a video game.</p><p><img src=/assets/img/blog/posts/savegame.jpg alt></p><p>We aim to <strong>avoid losing progress as much as possible</strong>. We don&rsquo;t want to respawn seven screens back and have to go through all those screens again. In other words, if we die, we want to respawn as close as possible to where we died. With commits, the concept is the same.</p><p>We can commit for things as small as:</p><ul><li>Formatting a file</li><li>Renaming a variable</li><li>Extracting a method</li><li>A <strong>small</strong> functional increment</li><li>Adding a new test case</li><li>Adding a dependency</li><li>A configuration change</li><li>etc., etc.</li></ul><p>A good rule of thumb is to commit between 5-20 commits per hour. In general, the more, the better.</p><h2 id=micro-commits-and-tdd-the-extended-rgr-loop>Micro-Commits and TDD: The Extended RGR Loop</h2><p>When doing TDD, there is a perfect time to make a commit: when we finish an iteration of the red-green-refactor loop.</p><p>Each iteration of the TDD loop adds a <strong>small functional increment</strong>, leaving us with passing tests: it&rsquo;s the perfect time to save the game.</p><p>This technique is known as the <strong>Extended Red-Green-Refactor Loop</strong> or red-green-refactor-integrate loop.</p><p><img src=/assets/img/blog/posts/rgri-loop.png alt></p><p>We can even <strong>commit immediately after reaching green</strong>, and then integrate as many times as refactoring steps we take (remember that refactoring is performing a series of small transformations that preserve the behavior of the code, meaning we never let tests break, i.e., go back to red).</p><p>It is not good practice to integrate immediately after writing a test before it passes, as if we commit in red, <strong>we&rsquo;ll be breaking continuous integration</strong>.</p><h2 id=what-if-the-build-takes-too-long>What if the build takes too long?</h2><p>A scenario that may hinder us from integrating more frequently is if tests take too long to run.</p><p>In this case, we will prioritize addressing the root cause, trying to <strong>reduce the duration of the tests</strong>, rather than integrating less frequently.</p><h2 id=graceful-retreat>Graceful Retreat</h2><p>If integrating more frequently wasn&rsquo;t reason enough to use micro-commits, there is another very interesting benefit: the ability to make a <strong>graceful retreat.</strong></p><p>When we break the code when adding a feature or refactoring (we reach red), we have found that it is easier to <strong>roll back to a known state</strong> (go back to green) and, from there, move forward again, taking a different path, than trying to go back to green directly by fixing the errors.</p><p>It is a <strong>more consistent and predictable strategy</strong>, and also more rewarding in terms of mental health. Therefore, we want the point where we revert to be as close as possible to the moment we broke the code, <strong>to lose as little work as possible</strong>.</p><p>This way, after reverting the changes, we take the opportunity to <strong>analyze what went wrong</strong> and <strong>develop a more suitable refactoring strategy</strong> that does lead us down the path we are looking for.</p><h2 id=conventional-commits>Conventional Commits</h2><p>A technique not directly related to micro-commits but that works well when used together is the <a href=https://www.conventionalcommits.org/en/v1.0.0/>conventional commits standard.</a></p><p>It is a <strong>convention for writing commit messages</strong> that poses a feature that synergizes with micro-commits, and that is that <strong>it obliges us to define the commit type.</strong></p><p>That is, in the commit message, in addition to adding a description of the change, we force ourselves to accompany it with an additional field: <strong>the commit type.</strong></p><p>This type can be a series of known values, among others:</p><ul><li><strong>feat:</strong> for new features,</li><li><strong>fix:</strong> for bug fixes,</li><li><strong>test:</strong> for new tests (whenever it&rsquo;s green, let&rsquo;s avoid committing in red),</li><li><strong>refactor:</strong> for changes that do not alter the code&rsquo;s behavior,</li><li><strong>chore:</strong> for other changes that do not alter the source code,</li><li><strong>style:</strong> for style or formatting changes,</li></ul><p>Adding the type to each commit invites us to ensure that each commit has a single responsibility, that it <strong>does only one thing</strong>. For example, if in the same commit we add a new feature and fix a bug, what type would we give it?</p><p>Asking ourselves this question leads us to another: <strong>how could we have made this change in two separate commits, each of a different type?</strong> This would lead us to make <strong>two smaller commits</strong>, and therefore to <strong>more continuous integration.</strong></p><h2 id=in-summary>In Summary</h2><p>Micro-commits are a prerequisite for truly practicing continuous integration, <strong>a practice that is often overlooked by many teams but is very easy to learn and apply</strong>. If we are doing TDD, practicing micro-commits feels much more natural, as we have well-identified moments to integrate the code. When we are refactoring, it helps us keep the code always green and be more productive. A very good way to start applying micro-commits is to use the conventional commits standard to force ourselves to make smaller changes.</p><h2 id=resources-to-keep-learning>Resources to Keep Learning</h2><ul><li><a href=https://www.industriallogic.com/blog/whats-this-about-micro-commits/>What‚Äôs this about Micro-commits (Tim Ottinger)</a></li><li><a href=https://medium.com/@kentbeck_7670/test-commit-revert-870bbd756864>test && commit || revert (Kent Beck)</a></li></ul></article></div><div class=container><div class="row h-100 align-items-center"><div class="col-12 text-center"><ul class="tags tags-dark"><li><a href=https://www.exeal.com/en/tags/ci-cd/>#ci-cd</a></li><li><a href=https://www.exeal.com/en/tags/best-practices/>#best-practices</a></li><li><a href=https://www.exeal.com/en/tags/tdd/>#tdd</a></li></ul><div class=post-author><img class=rounded-circle src=/assets/img/team/pedropardal.jpg><div class=post-author-name><h2>Pedro Pardal</h2><p>Founder, Software Craftsman & Technical Coach</p><ul class="social-icons list-inline"><li class=list-inline-item><a target=_blank href=https://twitter.com/ppardalj><img src=/assets/img/blog/social-icons/icon-twitter.svg></a></li><li class=list-inline-item><a target=_blank href=https://www.linkedin.com/in/pedro-pardal-jimena-36764344/><img src=/assets/img/blog/social-icons/icon-linkedin.svg></a></li><li class=list-inline-item><a target=_blank href=https://github.com/ppardalj><img src=/assets/img/blog/social-icons/icon-github.svg></a></li><li class=list-inline-item><a target=_blank href=mailto:pedro.pardal@exeal.com><img src=/assets/img/blog/social-icons/icon-email.svg></a></li></ul></div></div><div class=addthis_inline_share_toolbox></div></div></div></div></section><footer class=black><div class=container><div class="row align-items-center"><div class="col-lg-6 text-lg-left"><a href=/><img src=/assets/img/logo-exeal-footer.svg alt=Exeal></a><p><a href=/equipo/>Team</a> |
<a href=/jobs/extreme-programming-coach/>Jobs</a> |
<a href=/legal/legal-notice/>Legal notice</a> |
<a href=/legal/cookie-policy/>Cookie policy</a> |
<a href=/legal/privacy-policy/>Privacy policy</a></p></div><div class="col-lg-6 social-media"><ul class="list-inline text-lg-right mt-3 mt-lg-0"><li class=list-inline-item><a target=_blank href=https://twitter.com/exeal><img src=/assets/img/social/twitter.svg></a></li><li class=list-inline-item><a target=_blank href=https://www.linkedin.com/company/exeal/><img src=/assets/img/social/linkedin.svg></a></li><li class=list-inline-item><a target=_blank href=https://www.youtube.com/channel/UCxVspi-mashFr1RPGxSxEPA><img src=/assets/img/social/youtube.svg></a></li><li class=list-inline-item><a target=_blank href=https://github.com/exeal-es><img src=/assets/img/social/github.svg></a></li><li class=list-inline-item><a target=_blank href=mailto:hola@exeal.com><img src=/assets/img/social/email.svg></a></li></ul></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js integrity=sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl crossorigin=anonymous></script>
<script src=/assets/js/scroll.js></script>
<script src=/assets/js/redirect.js></script>
<script src=/assets/js/console.js></script>
<script>function loadScript(t){var n=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://tracker.metricool.com/resources/be.js",e.onreadystatechange=t,e.onload=t,n.appendChild(e)}loadScript(function(){beTracker.t({hash:"45d30dfb71957d625ad900e4772a2d6a"})})</script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f2bf2edad69c454"></script></body></html>