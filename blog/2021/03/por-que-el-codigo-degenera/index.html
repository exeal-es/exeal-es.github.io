<!doctype html><html lang=es><head><meta charset=utf-8><title>¿Por qué el código degenera? | Exeal</title><meta name=description content="Ningún proyecto comienza siendo legacy. ¿Cuáles son los factores que hacen que un proyecto greenfield se convierta en legacy?"><meta name=author content="Exeal"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:title" content="¿Por qué el código degenera?"><meta property="og:description" content="Ningún proyecto comienza siendo legacy. ¿Cuáles son los factores que hacen que un proyecto greenfield se convierta en legacy?"><meta property="og:type" content="article"><meta property="og:url" content="https://www.exeal.com/blog/2021/03/por-que-el-codigo-degenera/"><meta property="og:image" content="https://www.exeal.com/assets/img/blog/posts/fruit.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-03-26T00:10:00+01:00"><meta property="article:modified_time" content="2021-03-26T00:10:00+01:00"><meta itemprop=name content="¿Por qué el código degenera?"><meta itemprop=description content="Ningún proyecto comienza siendo legacy. ¿Cuáles son los factores que hacen que un proyecto greenfield se convierta en legacy?"><meta itemprop=datePublished content="2021-03-26T00:10:00+01:00"><meta itemprop=dateModified content="2021-03-26T00:10:00+01:00"><meta itemprop=wordCount content="1160"><meta itemprop=image content="https://www.exeal.com/assets/img/blog/posts/fruit.jpg"><meta itemprop=keywords content="legacy,habitos,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.exeal.com/assets/img/blog/posts/fruit.jpg"><meta name=twitter:title content="¿Por qué el código degenera?"><meta name=twitter:description content="Ningún proyecto comienza siendo legacy. ¿Cuáles son los factores que hacen que un proyecto greenfield se convierta en legacy?"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css integrity=sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm crossorigin=anonymous><link rel=stylesheet href=https://www.exeal.com/scss/main.css><link rel=icon type=image/png href=/assets/img/favicon.png><link rel=apple-touch-icon href=/assets/img/apple-touch-icon.png><script async src="https://www.googletagmanager.com/gtag/js?id=UA-172984297-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-172984297-1")</script><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/8231847.js></script>
<link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css><meta name=facebook-domain-verification content="xwbugjbpmp2jwy1y6mzdhe6ga267uz"><script>!function(t,o,i,a,e,n,s){if(t.fbq)return;e=t.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},t._fbq||(t._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],n=o.createElement(i),n.async=!0,n.src=a,s=o.getElementsByTagName(i)[0],s.parentNode.insertBefore(n,s)}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","417415780749470"),fbq("track","PageView")</script><noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=417415780749470&ev=PageView&noscript=1"></noscript><link rel=stylesheet href=https://www.exeal.com/scss/blog.css><link rel=stylesheet href=https://www.exeal.com/scss/hero.css></head><body><nav class="navbar navbar-light navbar-expand-lg navbar-shrink"><div class=container><div class="d-flex flex-row"><a href=/ class=navbar-brand><img src=/assets/img/logo-exeal-header-black.svg alt=Exeal></a>
<a href=/blog/ class=navbar-brand><img src=/assets/img/blog/logo-blog.svg alt=Blog></a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarTogglerDemo01 aria-controls=navbarTogglerDemo01 aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarTogglerDemo01><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Servicios</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a class=dropdown-item href=/servicios/technical-coaching/>Coaching técnico</a>
<a class=dropdown-item href=/servicios/aceleradora-de-talento/>Aceleradora de talento</a>
<a class=dropdown-item href=/cursos/>Formaciones a medida</a>
<a class=dropdown-item href=/servicios/desarrollo-de-productos-digitales/>Desarrollo de software a medida</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownResources role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Recursos</a><div class=dropdown-menu aria-labelledby=navbarDropdownResources><a class=dropdown-item href=https://academia.exeal.com/>Cursos gratuitos</a>
<a class=dropdown-item href=/lista-de-correo/>Lista de correo</a>
<a class=dropdown-item href=/blog/>Blog</a>
<a class=dropdown-item href=/katas/>Katas</a></div></li><li class=nav-item><a class="nav-link nav-button" href=/lista-de-correo/>Suscríbete</a></li></ul></div></div></nav><header class="hero hero-bg-img" style=background-image:url(/assets/img/blog/posts/fruit.jpg)><div class="hero-bg-img-mask bg-mask"><div class="container h-100"><div class="row h-100 align-items-center"><div class="col-12 text-center"><ul class="tags tags-light"><li><a href=https://www.exeal.com/tags/legacy/>#legacy</a></li><li><a href=https://www.exeal.com/tags/habitos/>#habitos</a></li></ul><h1><span class=underline>¿Por qué el código degenera?</span></h1><h2>Pedro Pardal</h2><p class=date>2021/03/26</p><p><a data-scroll=sect-body href=#><img class=arrow-down src=/assets/img/arrow-down-secondary.svg></a></p></div></div></div></div></header><section id=sect-body><div class=container><article><p>En mi <a href=https://www.exeal.com/cursos/legacy-code/>training sobre código legacy</a>, suelo empezar preguntando a la gente que “qué es lo que caracteriza un código legacy”, y hay una constante que siempre sale en todos los equipos: <strong>el código legacy da miedo, porque tocarlo supone un riesgo</strong>. Riesgo de romper algo que antes funcionaba, que está dando dinero, que está pagando las facturas… y deje de funcionar.</p><p>Existe una concepción negativa sobre el código legacy: como desarrolladores, tendemos a evitar este tipo de proyectos. Si nos dan a elegir, preferimos trabajar en el equipo que está desarrollando el nuevo producto de la empresa, con tecnologías cloud, serverless, contenedores, microservicios, etc., antes que mantener el monolito legacy de 1 millón de líneas de código (cuando, irónicamente, es éste el que paga las facturas).</p><h2 id=pero-hay-una-trampa>Pero hay una trampa</h2><p>Ningún equipo empieza un proyecto haciendo las cosas mal a posta. Es decir, los proyectos no nacen legacy. Sino que en algún momento de su vida, las cosas se tuercen, y acaban degenerando. Todos los proyectos que hoy día son legacy, en su momento nacieron greenfield.</p><p>Tendemos a pensar que estamos libres de que eso nos pase a nosotros, ya que ahora aplicamos buenas prácticas, tenemos mejores tecnologías, mejores arquitecturas, 100% de cobertura de unit testing, etc.</p><p>Sin embargo, mirando la historia hacia atrás nos damos cuenta de que esta situación siempre ha existido. Por ejemplo, hace unos años SOAP/WCF iba a ser el futuro de los servicios web, y ahora son considerados obsoletos en favor de paradigmas como REST o GraphQL. Probablemente, tecnologías vanguardistas a día de hoy como React se consideren igualmente obsoletas dentro de pocos años.</p><h2 id=ejemplo-la-pirámide-de-tests>Ejemplo: La pirámide de tests</h2><p>No debemos cuestionar únicamente las tecnologías, incluso las consideradas buenas prácticas en un momento dado vienen y van.</p><p>Por ejemplo, una de las buenas prácticas a día de hoy, que todos tenemos grabadas a fuego, es hacerle unit tests a todas las clases, maximizando la cobertura. Es decir, tener una <a href=https://martinfowler.com/articles/practical-test-pyramid.html>pirámide de tests</a> con una amplia base de tests unitarios muy rápidos, y una cima con unos pocos tests end to end, ya que son muy costosos.</p><p><img src=/assets/img/blog/posts/traditional-pyramid.png alt></p><p>Pero apenas recientemente, estamos <a href=https://kentcdodds.com/blog/write-tests>empezando a cuestionarnos</a> el retorno de escribir todos estos tests unitarios cuando, al hacer un pequeño cambio en el código, la mitad de los tests unitarios de la aplicación se rompen, y empleamos más tiempo arreglándolos que programando nuevas features. Unido a que el coste de los tests end to end cada vez es menor, con herramientas como <a href=https://www.cypress.io/>Cypress</a>, <a href=https://rest-assured.io/>RestAssured</a>, <a href=https://www.testcontainers.org/>TestContainers</a>, etc. <strong>¿Será que los unit tests que escribimos hoy son el legacy code del mañana?</strong></p><h2 id=el-software-cambia>El software cambia</h2><p>Las que son consideradas buenas prácticas cambian, la tecnología cambia, los frameworks cambian. Sin embargo, no debemos caer en la trampa de que, por usar todo lo nuevo, nuestro proyecto no va a acabar convirtiéndose en legacy.</p><p>En mi opinión, merece la pena pararse un poco a pensar en cuáles son los factores que realmente hacen que un proyecto greenfield acabe degenerando en código legacy.</p><p>Habiendo estudiado bastante sobre el tema, pasado por bastantes proyectos en mi carrera, hablado con muchísimas desarrolladoras, y leído muchísimas experiencias, podría concluir que los principales factores son tres: los <strong>requisitos cambiantes</strong>, los <strong>deadlines</strong> y la propia <strong>naturaleza social</strong> del desarrollo de software.</p><h2 id=requisitos-cambiantes>Requisitos cambiantes</h2><p>Todo el tiempo vienen <strong>requisitos nuevos y cambiantes</strong>. El negocio y el mercado evolucionan, y por lo tanto el software también debe evolucionar. Lo que era A ahora es B, el descuento que se aplicaba aquí ahora se aplica allí.</p><p>Tenemos dificultades para encajar los nuevos requisitos en la solución actual, y acabamos haciendo encaje de bolillos para tirar para adelante. Si repetimos esto una y otra vez, estaremos condenando al proyecto al fracaso lentamente.</p><p>Una reacción muy común entre los desarrolladores es intentar adelantarse a los cambios, creando un sistema con más abstracciones, más extensible, con una arquitectura definida, etc, para que la próxima vez que lleguen nuevos requisitos se puedan acomodar mejor.</p><p>Jugamos a ver el futuro con nuestra bola de cristal, a intentar prever los nuevos requisitos antes siquiera de que al negocio se les ocurran. Por supuesto, en la mayoría de los casos, <strong>nos equivocamos</strong>. Introducimos la abstracción incorrecta, y los nuevos requisitos siempre nos sorprenden. Acabamos con dos problemas: la complejidad inherente a los nuevos requisitos y tener que adaptar el software a los mismos, y la <strong>complejidad accidental</strong> de una solución más compleja de lo que podría ser.</p><h2 id=deadlines>Deadlines</h2><p>El segundo factor son <strong>los deadlines</strong>: la nueva funcionalidad tiene que estar “para ayer”. En esta situación, no nos da tiempo a aplicar buenas prácticas acabamos haciéndolo “como podemos” para salir a tiempo.</p><p>Como no queremos dejar el código así, añadimos al backlog una “Tarea de refactor” para limpiar el desastre que hemos dejado atrás. Sin embargo esta tarea casi nunca se acaba llevando a cabo, puesto que hay nuevas funcionalidades que implementar que son mucho más prioritarias. En el mejor de los casos, la tarea se queda en el backlog, criando polvo.</p><h2 id=escribir-código-es-una-actividad-social>Escribir código es una actividad social</h2><p>El tercer factor, es el hecho de que <strong>escribir código es una actividad social que realizamos en equipo</strong>.</p><p>Si estuviéramos solos en el proyecto de principio a fin, probablemente tendría muchos menos problemas entendiendo la visión técnica, manteniendo la arquitectura, entendiendo el dominio, ya que tendría una única visión y opinión de todas estas cosas.</p><p>Pero al trabajar en equipo, cada integrante entiende una cosa distinta sobre el dominio, tiene una visión y un grado de experiencia diferentes. A no ser que seamos muy buenos comunicándonos y alineándonos entre nosotros, habrá muchísimas fuerzas tirando cada una hacia un lado.</p><p><img src=/assets/img/blog/posts/team-developers.jpg alt></p><p>Este fenómeno se hace mucho más evidente cuando hay una rotación en el equipo. Por ejemplo:</p><ul><li>Se va de la empresa la persona que planteó la arquitectura inicial, y se lleva la visión técnica con ella.</li><li>Entra una persona nueva al equipo que no tiene nada de conocimiento del dominio, y hasta que no adquiere conocimiento del dominio y la forma de trabajar del equipo, no alcanza su pico de productividad.</li></ul><h2 id=cómo-evitar-que-el-código-degenere>Cómo evitar que el código degenere</h2><p>Estos tres factores son atemporales. Es decir, pasaban en los proyectos hace 10 años, pasan ahora, y 100% seguro que pasarán dentro de 10 años también.</p><p>Dicho de otra forma, estos tres factores les van a ocurrir a tu proyecto greenfield con casi total seguridad. La pregunta entonces es, ¿qué podemos hacer para evitar que esto le pase a nuestro proyecto?</p><p>Sabiendo que hay una serie de fuerzas que de forma natural van a empujar a nuestro código a deteriorarse, tenemos que aplicar fuerzas contrarias que compensen.</p><p>Hay 3 áreas en las que podemos trabajar para aplicar fuerzas:</p><ul><li>Mejorar nuestras competencias y habilidades como desarrolladores para ser más productivo.</li><li>Mejorar el trabajo en equipo para crear un ritmo sostenible.</li><li>Preparar nuestro código para lo que pueda venir, <em>the right way</em>.</li></ul><p>Hablaremos sobre cada uno de estos tres puntos de forma más extensa en futuros posts.</p></article></div><div class=container><div class="row h-100 align-items-center"><div class="col-12 text-center"><ul class="tags tags-dark"><li><a href=https://www.exeal.com/tags/legacy/>#legacy</a></li><li><a href=https://www.exeal.com/tags/habitos/>#habitos</a></li></ul><div class=post-author><img class=rounded-circle src=/assets/img/team/pedropardal.jpg><div class=post-author-name><h2>Pedro Pardal</h2><p>Founder, Software Craftsman & Technical Coach</p><ul class="social-icons list-inline"><li class=list-inline-item><a target=_blank href=https://twitter.com/ppardalj><img src=/assets/img/blog/social-icons/icon-twitter.svg></a></li><li class=list-inline-item><a target=_blank href=https://www.linkedin.com/in/pedro-pardal-jimena-36764344/><img src=/assets/img/blog/social-icons/icon-linkedin.svg></a></li><li class=list-inline-item><a target=_blank href=https://github.com/ppardalj><img src=/assets/img/blog/social-icons/icon-github.svg></a></li><li class=list-inline-item><a target=_blank href=mailto:pedro.pardal@exeal.com><img src=/assets/img/blog/social-icons/icon-email.svg></a></li></ul></div></div><div class=addthis_inline_share_toolbox></div></div></div></div></section><footer class=black><div class=container><div class="row align-items-center"><div class="col-lg-6 text-lg-left"><a href=/><img src=/assets/img/logo-exeal-footer.svg alt=Exeal></a><p><a href=/equipo/>Equipo</a> |
<a href=/jobs/extreme-programming-coach/>Empleo</a> |
<a href=/legal/legal-notice/>Aviso legal</a> |
<a href=/legal/cookie-policy/>Política de cookies</a> |
<a href=/legal/privacy-policy/>Política de privacidad</a></p></div><div class="col-lg-6 social-media"><ul class="list-inline text-lg-right mt-3 mt-lg-0"><li class=list-inline-item><a target=_blank href=https://twitter.com/exeal><img src=/assets/img/social/twitter.svg></a></li><li class=list-inline-item><a target=_blank href=https://www.linkedin.com/company/exeal/><img src=/assets/img/social/linkedin.svg></a></li><li class=list-inline-item><a target=_blank href=https://www.youtube.com/channel/UCxVspi-mashFr1RPGxSxEPA><img src=/assets/img/social/youtube.svg></a></li><li class=list-inline-item><a target=_blank href=https://github.com/exeal-es><img src=/assets/img/social/github.svg></a></li><li class=list-inline-item><a target=_blank href=mailto:hola@exeal.com><img src=/assets/img/social/email.svg></a></li></ul></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js integrity=sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl crossorigin=anonymous></script>
<script src=/assets/js/scroll.js></script>
<script src=/assets/js/redirect.js></script>
<script src=/assets/js/console.js></script>
<script>function loadScript(t){var n=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src="https://tracker.metricool.com/resources/be.js",e.onreadystatechange=t,e.onload=t,n.appendChild(e)}loadScript(function(){beTracker.t({hash:"45d30dfb71957d625ad900e4772a2d6a"})})</script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f2bf2edad69c454"></script></body></html>